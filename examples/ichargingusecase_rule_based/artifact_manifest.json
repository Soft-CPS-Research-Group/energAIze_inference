{
  "manifest_version": 1,
  "metadata": {
    "experiment_name": "ichargingusecase_rule_based",
    "run_name": "icharging_allocation_demo",
    "alias_mapping_path": "aliases.json"
  },
  "simulator": {},
  "training": {},
  "topology": {"num_agents": 1},
  "algorithm": {"name": "RuleBasedBreaker", "hyperparameters": {}},
  "environment": {
    "observation_names": [[
      "non_shiftable_load",
      "solar_generation",
      "electricity_pricing",
      "charging_sessions.AC000001_1.power",
      "charging_sessions.AC000002_1.power",
      "charging_sessions.AC000003_1.power",
      "charging_sessions.AC000004_1.power",
      "charging_sessions.AC000005_1.power",
      "charging_sessions.AC000006_1.power",
      "charging_sessions.AC000007_1.power",
      "charging_sessions.AC000008_1.power",
      "charging_sessions.AC000009_1.power",
      "charging_sessions.AC000010_1.power",
      "charging_sessions.AC000011_1.power",
      "charging_sessions.AC000012_1.power",
      "charging_sessions.AC000013_1.power",
      "charging_sessions.AC000014_1.power",
      "charging_sessions.ACEXT001_1.power",
      "charging_sessions.ACEXT002_1.power",
      "charging_sessions.ACEXT003_1.power",
      "charging_sessions.ACEXT004_1.power",
      "batteries.b_1.last_soc",
      "batteries.b_2.last_soc"
    ]],
    "encoders": [[
      {"type": "NoNormalization", "params": {}},
      {"type": "NoNormalization", "params": {}},
      {"type": "NoNormalization", "params": {}},
      {"type": "NoNormalization", "params": {}},
      {"type": "NoNormalization", "params": {}},
      {"type": "NoNormalization", "params": {}},
      {"type": "NoNormalization", "params": {}},
      {"type": "NoNormalization", "params": {}},
      {"type": "NoNormalization", "params": {}},
      {"type": "NoNormalization", "params": {}},
      {"type": "NoNormalization", "params": {}},
      {"type": "NoNormalization", "params": {}},
      {"type": "NoNormalization", "params": {}},
      {"type": "NoNormalization", "params": {}},
      {"type": "NoNormalization", "params": {}},
      {"type": "NoNormalization", "params": {}},
      {"type": "NoNormalization", "params": {}},
      {"type": "NoNormalization", "params": {}},
      {"type": "NoNormalization", "params": {}},
      {"type": "NoNormalization", "params": {}},
      {"type": "NoNormalization", "params": {}},
      {"type": "NoNormalization", "params": {}},
      {"type": "NoNormalization", "params": {}}
    ]],
    "action_bounds": [[{
      "low": [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
      "high": [4.6, 4.6, 4.6, 4.6, 4.6, 4.6, 4.6, 4.6, 4.6, 4.6, 4.6, 4.6, 4.6, 4.6, 4.6, 4.6, 4.6, 4.6, 3.0, 3.0]
    }]],
    "action_names": [
      "AC000001_1",
      "AC000002_1",
      "AC000003_1",
      "AC000004_1",
      "AC000005_1",
      "AC000006_1",
      "AC000007_1",
      "AC000008_1",
      "AC000009_1",
      "AC000010_1",
      "AC000011_1",
      "AC000012_1",
      "AC000013_1",
      "AC000014_1",
      "ACEXT001_1",
      "ACEXT002_1",
      "ACEXT003_1",
      "ACEXT004_1",
      "b_1",
      "b_2"
    ],
    "reward_function": {"name": "RewardFunction", "params": {}}
  },
  "agent": {
    "format": "rule_based",
    "artifacts": [
      {
        "agent_index": 0,
        "path": "policy_agent_0.json",
        "format": "rule_based",
        "config": {
          "use_preprocessor": false,
          "strategy": "breaker_allocation",
          "max_board_kw": 43,
          "charger_limit_kw": 4.6,
          "control_interval_minutes": 15,
          "default_capacity_kwh": 75,
          "default_target_soc": 0.9,
          "default_current_soc": 0.1,
          "default_departure_buffer_minutes": 60,
          "flexible_urgency_threshold": 0.7,
          "allow_departure_fallback": false,
          "non_shiftable_key": "non_shiftable_load",
          "solar_generation_key": "solar_generation",
          "detect_flex_from_ev": true,
          "vehicle_capacities": {
            "11824": 75,
            "11823": 75,
            "11833": 75,
            "11825": 75,
            "11822": 75,
            "11832": 75,
            "11838": 75,
            "11821": 75
          },
          "ev_charger_map": {
            "11824": ["AC000004_1"],
            "11823": ["AC000007_1"],
            "11833": ["AC000005_1"],
            "11825": ["AC000006_1"],
            "11822": ["AC000008_1"],
            "11832": ["AC000009_1"],
            "11838": ["AC000014_1"],
            "11821": ["ACEXT004_1"]
          },
          "chargers": {
            "AC000001_1": {"line": "L3", "min_kw": 0.0, "max_kw": 4.6, "allow_flex_when_ev": true, "battery_capacity_kwh": 75},
            "AC000002_1": {"line": "L1", "min_kw": 0.0, "max_kw": 4.6, "allow_flex_when_ev": false, "battery_capacity_kwh": 75},
            "AC000003_1": {"line": "L2", "min_kw": 0.0, "max_kw": 4.6, "allow_flex_when_ev": false, "battery_capacity_kwh": 75},
            "AC000004_1": {"line": "L3", "min_kw": 0.0, "max_kw": 4.6, "allow_flex_when_ev": true, "battery_capacity_kwh": 75},
            "AC000005_1": {"line": "L1", "min_kw": 0.0, "max_kw": 4.6, "allow_flex_when_ev": false, "battery_capacity_kwh": 75},
            "AC000006_1": {"line": "L2", "min_kw": 0.0, "max_kw": 4.6, "allow_flex_when_ev": false, "battery_capacity_kwh": 75},
            "AC000007_1": {"line": "L3", "min_kw": 0.0, "max_kw": 4.6, "allow_flex_when_ev": true, "battery_capacity_kwh": 75},
            "AC000008_1": {"line": "L1", "min_kw": 0.0, "max_kw": 4.6, "allow_flex_when_ev": false, "battery_capacity_kwh": 75},
            "AC000009_1": {"line": "L2", "min_kw": 0.0, "max_kw": 4.6, "allow_flex_when_ev": false, "battery_capacity_kwh": 75},
            "AC000010_1": {"line": "L3", "min_kw": 0.0, "max_kw": 4.6, "allow_flex_when_ev": true, "battery_capacity_kwh": 75},
            "AC000011_1": {"line": "L1", "min_kw": 0.0, "max_kw": 4.6, "allow_flex_when_ev": false, "battery_capacity_kwh": 75},
            "AC000012_1": {"line": "L2", "min_kw": 0.0, "max_kw": 4.6, "allow_flex_when_ev": false, "battery_capacity_kwh": 75},
            "AC000013_1": {"line": "L3", "min_kw": 0.0, "max_kw": 4.6, "allow_flex_when_ev": true, "battery_capacity_kwh": 75},
            "AC000014_1": {"line": "L1", "min_kw": 0.0, "max_kw": 4.6, "allow_flex_when_ev": false, "battery_capacity_kwh": 75},
            "ACEXT001_1": {"line": "L1", "min_kw": 0.0, "max_kw": 4.6, "allow_flex_when_ev": true, "battery_capacity_kwh": 75},
            "ACEXT002_1": {"line": "L1", "min_kw": 0.0, "max_kw": 4.6, "allow_flex_when_ev": true, "battery_capacity_kwh": 75},
            "ACEXT003_1": {"line": "L1", "min_kw": 0.0, "max_kw": 4.6, "allow_flex_when_ev": true, "battery_capacity_kwh": 75},
            "ACEXT004_1": {"line": "L2", "min_kw": 0.0, "max_kw": 4.6, "allow_flex_when_ev": true, "battery_capacity_kwh": 75}
          },
          "line_limits": {
            "L1": {"limit_kw": 11, "chargers": ["ACEXT003_1", "ACEXT002_1", "AC000014_1", "AC000011_1", "AC000008_1", "AC000005_1", "AC000002_1", "ACEXT001_1"]},
            "L2": {"limit_kw": 11, "chargers": ["ACEXT004_1", "AC000012_1", "AC000009_1", "AC000006_1", "AC000003_1"]},
            "L3": {"limit_kw": 11, "chargers": ["AC000013_1", "AC000010_1", "AC000007_1", "AC000004_1", "AC000001_1"]}
          },
          "batteries": {
            "b_1": {
              "soc_key": "batteries.b_1.last_soc",
              "charge_threshold": 0.25,
              "charge_power_kw": 3.0,
              "idle_power_kw": 0.0
            },
            "b_2": {
              "soc_key": "batteries.b_2.last_soc",
              "charge_threshold": 0.25,
              "charge_power_kw": 3.0,
              "idle_power_kw": 0.0
            }
          },
          "action_order": [
            "AC000001_1",
            "AC000002_1",
            "AC000003_1",
            "AC000004_1",
            "AC000005_1",
            "AC000006_1",
            "AC000007_1",
            "AC000008_1",
            "AC000009_1",
            "AC000010_1",
            "AC000011_1",
            "AC000012_1",
            "AC000013_1",
            "AC000014_1",
            "ACEXT001_1",
            "ACEXT002_1",
            "ACEXT003_1",
            "ACEXT004_1",
            "b_1",
            "b_2"
          ]
        }
      }
    ]
  }
}
